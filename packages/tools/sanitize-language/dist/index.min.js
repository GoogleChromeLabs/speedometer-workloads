const i=require("fs").promises,{resolve:t}=require("path"),e=["disallowlist","allowlist"],a=[["b","l","a","c","k","l","i","s","t"],["w","h","i","t","e","l","i","s","t"]].map((i=>i.join(""))),n=new Map;a.forEach(((i,t)=>n.set(i,e[t])));const o=new RegExp(a.join("|"),"gi");async function s(e){const a=await i.readdir(e,{withFileTypes:!0}),n=await Promise.all(a.map((i=>{const a=t(e,i.name);return i.isDirectory()?s(a):a})));return Array.prototype.concat(...n)}!async function(){const t=process.env.OUTPUT_FOLDER??"./dist",e=await s(t);await Promise.all(e.map((t=>async function(t){const e=await i.readFile(t,"utf8"),a=e.replace(o,(function(i){return n.get(i)}));e!==a&&await i.writeFile(t,a)}(t)))),console.log(`** Done sanitizing ${t}! **`)}();
